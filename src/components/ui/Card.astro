---
import type { HTMLTag, Polymorphic } from 'astro/types';

/**
 * Props for a polymorphic card container with rounded corners and shadow.
 *
 * @typeParam Tag - The HTML element type to render as (default: 'div')
 * @property as - The HTML element type to render as (default: 'div')
 */
type Props<Tag extends HTMLTag> = Polymorphic<{
	as: Tag;
}>;

const { as: Tag = 'div', ...restProps } = Astro.props;
---

<!-- This must be on the same line to prevent whitespace from being inserted -->
<Tag {...restProps}><slot /></Tag>

<style>
	* {
		border-radius: var(--radius-md);
		box-shadow: var(--box-shadow-md);
		overflow: hidden;
		contain: paint;

		/* Outlines are cut off when using `overflow: hidden` so use a negative offset instead */
		> * {
			outline-offset: calc(-1 * var(--p-xs));
		}
	}
</style>
